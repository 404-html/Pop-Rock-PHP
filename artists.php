<?php

// require ("class.artist.php");
require_once 'rockdb.php';

$hollywoodVampires = new artist ("3k4YA0uPsWc2PuOQlJNpdH","Hollywood Vampires");
$aliceCooper = new artist("3EhbVgyfGd7HkpsagwL9GS","Alice Cooper");
$davidBowie = new artist("0oSGxfWSnnOXhD2fKuz2Gy","David Bowie");
$bobDylan = new artist("74ASZWbe4lXaubB36ztrGX","Bob Dylan");
$meatLoaf = new artist("7dnB1wSxbYa8CejeVg98hz","Meat Loaf");
$johnMellencamp = new artist("3lPQ2Fk5JOwGWAF3ORFCqH","John Mellencamp");
$stooges = new artist("4BFMTELQyWJU1SwqcXMBm3","The Stooges");
$bruceSpringsteen = new artist("3eqjTLE0HfPfh78zjh6TqT","Bruce Springsteen");
$kiss = new artist("07XSN3sPlIlB2L2XNcTwJw","Kiss");
$iggyPop = new artist("33EUXrFKGjpUSGacqEHhU4","Iggy Pop");
$popWilliamson = new artist("1l8grPt6eiOS4YlzjIs0LF","Iggy Pop & James Williamson");
$rollingStones = new artist("22bE4uQ6baNwSHPVcDxLCe","Rolling Stones");
$tomPetty = new artist("2UZMlIwnkgAEDBsw1Rejkn","Tom Petty");
$tpHeartbreakers = new artist("4tX2TplrkIP4v05BNC903e","Tom Petty & the Heartbreakers");
$travelingWilburys = new artist("2hO4YtXUFJiUYS2uYFvHNK","Traveling Wilburys");
$garyNuman = new artist("5KQMtyPE8DCQNUzoNqlEsE","Gary Numan");
$jethroTull = new artist("6w6z8m4WXX7Tub4Rb6Lu7R","Jethro Tull");
$ronnieJamesDio = new artist("4M3c7tg4BzLQ5pIOupZL65","Ronnie James Dio");
$dio = new artist("4CYeVo5iZbtYGBN4Isc3n6","Dio");
$ozzyOsbourne = new artist("6ZLTlhejhndI4Rh53vYhrY","Ozzy Osbourne");
$HeavenHell = new artist("4UjiBRkTw9VmvDZiJZKPJ7","Heaven and Hell");
$ironMaiden = new artist("6mdiAmATAx73kdxrNrnlao","Iron Maiden");
$blackSabbath = new artist("5M52tdBnJaKSvOpJGz8mfZ","Black Sabbath");
$u2 = new artist("51Blml2LZPmy7TTiAg47vQ","U2");
$zzTop = new artist("2AM4ilv6UzW0uMRuqKtDgN","ZZ Top");
$johnnyCash = new artist("6kACVPfCOnqzgfEF5ryl0x","Johnny Cash");
$bobSeger = new artist("485uL27bPomh29R4JmQehQ","Bob Seger");
$prince = new artist("5a2EaR3hamoenG9rDuVn8j","Prince");
$acdc = new artist("711MCceyCBcFnzjGY4Q7Un","AC/DC");
$journey = new artist ("0rvjqX7ttXeg3mTy8Xscbt", "Journey");
$aerosmith = new artist ("7Ey4PD4MYsKc5I2dolUwbH", "Aerosmith");
$metallica = new artist ("2ye2Wgw4gimLv2eAKyk1NB", "Metallica");
$joyDivision = new artist ("432R46LaYsJZV2Gmc4jUV5", "Joy Division");
$newOrder = new artist ("0yNLKJebCb8Aueb54LYya3", "New Order");
$pixies = new artist ("6zvul52xwTWzilBZl6BUbT", "Pixies");
$petShopBoys = new artist ("2ycnb8Er79LoH2AsR5ldjh", "Pet Shop Boys");
$psychedelicFurs = new artist ("0O0lrN34wrcuBenkqlEDZe", "Psychedelic Furs");
$steveEarle = new artist ("2UBTfUoLI07iRqGeUrwhZh", "Steve Earle");
$cure = new artist ("7bu3H8JO7d0UbMoVzbo70s", "The Cure");
$rush = new artist ("2Hkut4rAAyrQxRdof7FVJq", "Rush");
$kingsX = new artist ("3tn79LMMIdIT1T0TXumjaH", "King's X");
$fleetwoodMac = new artist ("08GQAI4eElDnROBrJRGE0X", "Fleetwood Mac");
$slayer = new artist ("1IQ2e1buppatiN1bxUVkrk", "Slayer");
$venom = new artist ("5fwaejlOHVBAw1KhIPPaQe", "Venom");
$gwar = new artist ("3dnH7fdVm2X07MK6Fkbhbt", "GWAR");
$cannibalCorpse = new artist ("0yLwGBQiBqhXOvmTfH2A7n", "Cannibal Corpse");
$megadeth = new artist ("1Yox196W7bzVNZI7RBaPnf", "Megadeth");
$anthrax = new artist ("3JysSUOyfVs1UQ0UaESheP", "Anthrax");
$kreator = new artist ("3BM0EaYmkKWuPmmHFUTQHv", "Kreator");
$exodus = new artist ("76S65NHJHrNy4JTrXHP2BH", "Exodus");
$testament = new artist ("28hJdGN1Awf7u3ifk2lVkg", "Testament");
$overkill = new artist ("0NmYchKQ8JIR9QHYJA0FRe", "Overkill");
$deathAngel = new artist ("6KVc8Llznru8n9LVCYe9dz", "Death Angel");
$sodom = new artist ("6SYbLA9utoNsllunR1TnkM", "Sodom");
$cirithUngol = new artist ("2qOoh1ofQZoX9XMXglJDcR", "Cirith Ungol");
$publicEnemy = new artist ("6Mo9PoU6svvhgEum7wh2Nd", "Public Enemy");
$NWA = new artist ("4EnEZVjo3w1cwcQYePccay", "N.W.A.");
$beastieBoys = new artist ("03r4iKL2g2442PT9n2UKsx", "Beastie Boys");
$celticFrost = new artist ("4ZISAmHmQUDCpv8xydqeKG", "Celtic Frost");

$oneBadPig = new artist("7hW3Ezs4uzy0QQvdnF0Imi","One Bad Pig");
$stryper = new artist("6lE1ly8K8H7u8k2ej2plvv","Stryper");
$bloodgood = new artist("5WJ6VEY43MOngJJJNabAId","Bloodgood");
$bride = new artist("3G7qoMSLvu9Pmb0xGtf9fl","Bride");
$steveTaylor = new artist("0t1uzfQspxLvAifZLdmFe2","Steve Taylor");
$stPerfectFoil = new artist("5MQsxr7sbsewUTIEEYxauR","Steve Taylor & the Perfect Foil");
$stDanielsonFoil = new artist("0PGxNwykt4KgnvSnNHVUSZ","Steve Taylor and the Danielson Foil");
$vengeanceRising = new artist("3lgxzeCbj6oMQMmaUhH2H6","Vengeance Rising");
$freedomSoul = new artist("0sNPk98oyaTeaRojDYglDY","Freedom of Soul");
$pid = new artist("1P72cdCRCvytPnFLkGSeVm","PID");
$sfc = new artist("3PXQl96QHBJbzAGENdJWc1","SFC");
$dcTalk = new artist("1zK4ACgLi1lVPpfmmcwOTh","DC Talk");
$dynamicTwins = new artist("1LZqY4X3vFpZaEgXkmiYrG","Dynamic Twins");
$eRoc = new artist("5kadFhaVFgdn1J4rX3HqB2","E-Roc");
$glennKaiser = new artist("3G5wgSAeFzEa6Jv5UNDs4N","Glenn Kaiser");
$resurrectionBand = new artist("3MAQykZ3MwPcviv5eIVqgb","Ressurection Band");
$xlDBD = new artist("3h66yQiOXZpT6AV2Np5yIq","X.L. and DBD");
$playdough = new artist("2hjEGPXpN1BGpNjODQ4ImL","Playdough");
$crucified = new artist("6K1KoB3WXLSOaphD2YoWNU","The Crucified");
$chagallGuevara = new artist("0p9uD4WGPHqMicwXm3Kavk","Chagall Guevara");
$saint = new artist ("0fY32zOZQBIUFh6rDMfbMt", "Saint");
$twelthTribe = new artist ("76bg2Fvfs7TcQV2un3iNdO", "12th Tribe");
$seventySevens = new artist ("1KxokFLctHsnu4YDSWY3MF", "77s");
$mortification = new artist ("06T4NL0adq4kfYAr2nZv5t", "Mortification");
$livingSacrifice = new artist ("0nxo4nAEYNbNpA8wwNvqXY", "Living Sacrifice");
$sayWhat = new artist ("5R7kd09oJizY4DlJoIMLGb", "Say What?");
$barrenCross = new artist ("2Cg6J3WtX1P093c4VKt0Xe", "Barren Cross");
$jerusalem = new artist ("31LBSeuapFzeec1JCDDMZS", "Jerusalem");
$lustControl = new artist ("1FFP0sOEvSSKgjocovruDl", "Lust Control");
$argylePark = new artist ("2IIRfan7YtrHcldR6G8EmM", "Argyle Park");
$deliverance = new artist ("0AA0qugrTsIv7JFMEnhaqu", "Deliverance");
$tourniquet = new artist ("3lHPBMb024SqetFwwVwuwH", "Tourniquet");
$mortal = new artist ("2V27BrLW9marAftTzfW8WN", "Mortal");
$klank = new artist ("0ReWwVR3RCZtXLP8CZFCrb", "Klank");
$circleDust = new artist ("60GtR6PIcDY1pikPgKHNk9", "Circle of Dust");
$deitiphobia = new artist ("1lhoWboIGHmazhnBQ8eVF3", "Deitiphobia");
$rosarium = new artist ("3yZKOUXaZEUIuezZBsDQ62", "Rosarium");
$mxpx = new artist ("1cSpfa4Un4NCOzeOKgGtG9", "MxPx");
$whitecross = new artist ("38G8E1MViuxPZPd5qIgbic", "Whitecross");
$ninetyPoundWuss = new artist ("0VOvF0kfqCTRe37XzWQdvH", "Ninety Pound Wuss");
$ghotiHook = new artist ("4bMVHZcJe0AmG8f3b120qL", "Ghoti Hook");
$fiveIronFrenzy = new artist ("1BcAEs4W94BrXMmVCOgwSx", "Five Iron Frenzy");
$larryNorman = new artist ("0klkYTAeGHgItyB4R9YYjU", "Larry Norman");
$scaterdFew = new artist ("2S0M8fVXCom9z4JjV8UoXO", "Scaterd Few");

$xianArtists = array ("7hW3Ezs4uzy0QQvdnF0Imi","6lE1ly8K8H7u8k2ej2plvv","5WJ6VEY43MOngJJJNabAId","3G7qoMSLvu9Pmb0xGtf9fl","0t1uzfQspxLvAifZLdmFe2","5MQsxr7sbsewUTIEEYxauR","0PGxNwykt4KgnvSnNHVUSZ","3lgxzeCbj6oMQMmaUhH2H6","0sNPk98oyaTeaRojDYglDY","1P72cdCRCvytPnFLkGSeVm","3PXQl96QHBJbzAGENdJWc1","1zK4ACgLi1lVPpfmmcwOTh","1LZqY4X3vFpZaEgXkmiYrG","5kadFhaVFgdn1J4rX3HqB2","3G5wgSAeFzEa6Jv5UNDs4N","3MAQykZ3MwPcviv5eIVqgb","3h66yQiOXZpT6AV2Np5yIq","2hjEGPXpN1BGpNjODQ4ImL","6K1KoB3WXLSOaphD2YoWNU","0fY32zOZQBIUFh6rDMfbMt", "76bg2Fvfs7TcQV2un3iNdO", "1KxokFLctHsnu4YDSWY3MF", "06T4NL0adq4kfYAr2nZv5t", "0nxo4nAEYNbNpA8wwNvqXY", "5R7kd09oJizY4DlJoIMLGb", "2Cg6J3WtX1P093c4VKt0Xe", "31LBSeuapFzeec1JCDDMZS", "1FFP0sOEvSSKgjocovruDl", "2IIRfan7YtrHcldR6G8EmM", "0AA0qugrTsIv7JFMEnhaqu", "3lHPBMb024SqetFwwVwuwH", "2V27BrLW9marAftTzfW8WN", "0ReWwVR3RCZtXLP8CZFCrb", "60GtR6PIcDY1pikPgKHNk9", "1lhoWboIGHmazhnBQ8eVF3", "3yZKOUXaZEUIuezZBsDQ62", "1cSpfa4Un4NCOzeOKgGtG9", "38G8E1MViuxPZPd5qIgbic", "0VOvF0kfqCTRe37XzWQdvH", "4bMVHZcJe0AmG8f3b120qL", "1BcAEs4W94BrXMmVCOgwSx", "0klkYTAeGHgItyB4R9YYjU", "2S0M8fVXCom9z4JjV8UoXO");

$BonJovi = new artist ("58lV9VcRSjABbAbfWS6skp", "Bon Jovi");
$KateBush = new artist ("1aSxMhuvixZ8h9dK9jIDwL", "Kate Bush");
$Cars = new artist ("6DCIj8jNaNpBz8e5oKFPtp", "The Cars");
$DepecheMode = new artist ("762310PdDnwsDxAQxzQkfX", "Depeche Mode");
$DireStraits = new artist ("0WwSkZ7LtFUFjGjMZBMt6T", "Dire Straits");
$Eurythmics = new artist ("0NKDgy9j66h3DLnN8qu1bB", "Eurythmics");
$JGeilsBand = new artist ("69Mj3u4FTUrpyeGNSIaU6F", "J. Geils Band");
$JudasPriest = new artist ("2tRsMl4eGxwoNabM08Dm4I","Judas Priest");
$LLCoolJ = new artist ("1P8IfcNKwrkQP5xJWuhaOC", "LL Cool J");
$MC5 = new artist ("4WquJweZPIK9qcfVFhTKvf", "The MC5");
$TheMeters = new artist ("2JRvXPGWiINrnJljNJhG5s", "The Meters");
$MoodyBlues = new artist ("5BcZ22XONcRoLhTbZRuME1", "Moody Blues");
$Radiohead = new artist ("4Z8W4fKeB5YxbusRsdQVPb", "Radiohead");
$RageAgainstTheMachine = new artist ("2d0hyoQ5ynDBnkvAbJKORj", "Rage Against the Machine");
$RufusFeatChakaKhan = new artist ("1YLsqPcFg1rj7VvhfwnDWm", "Rufus featuring Chaka Khan");
$NinaSimone = new artist ("7G1GBhoKtEPnP86X2PvEYO", "Nina Simone");
$SisterRosettaTharpe = new artist ("2dXf5lu5iilcaTQJZodce7", "Sister Rosetta Tharpe");
$LinkWray = new artist ("2vQavlZtDA660mnZotYIto", "Link Wray");
$Zombies = new artist ("2jgPkn6LuUazBoBk6vvjh5", "The Zombies");
$TravelingWilburys = new artist ("2hO4YtXUFJiUYS2uYFvHNK", "Traveling Wilburys");
$ChakaKhan = new artist ("6mQfAAqZGBzIfrmlZCeaYT", "Chaka Khan");

$nominees2018 = array ("58lV9VcRSjABbAbfWS6skp", "1aSxMhuvixZ8h9dK9jIDwL", "6DCIj8jNaNpBz8e5oKFPtp", "762310PdDnwsDxAQxzQkfX", "0WwSkZ7LtFUFjGjMZBMt6T", "0NKDgy9j66h3DLnN8qu1bB", "69Mj3u4FTUrpyeGNSIaU6F", "2tRsMl4eGxwoNabM08Dm4I", "1P8IfcNKwrkQP5xJWuhaOC", "4WquJweZPIK9qcfVFhTKvf", "2JRvXPGWiINrnJljNJhG5s", "5BcZ22XONcRoLhTbZRuME1", "4Z8W4fKeB5YxbusRsdQVPb", "2d0hyoQ5ynDBnkvAbJKORj", "1YLsqPcFg1rj7VvhfwnDWm", "7G1GBhoKtEPnP86X2PvEYO", "2dXf5lu5iilcaTQJZodce7", "2vQavlZtDA660mnZotYIto", "2jgPkn6LuUazBoBk6vvjh5", "2hO4YtXUFJiUYS2uYFvHNK", "6mQfAAqZGBzIfrmlZCeaYT");

$allArtists = array ("3k4YA0uPsWc2PuOQlJNpdH","3EhbVgyfGd7HkpsagwL9GS","0oSGxfWSnnOXhD2fKuz2Gy","74ASZWbe4lXaubB36ztrGX","7dnB1wSxbYa8CejeVg98hz","3lPQ2Fk5JOwGWAF3ORFCqH","4BFMTELQyWJU1SwqcXMBm3","3eqjTLE0HfPfh78zjh6TqT","07XSN3sPlIlB2L2XNcTwJw","33EUXrFKGjpUSGacqEHhU4","1l8grPt6eiOS4YlzjIs0LF","22bE4uQ6baNwSHPVcDxLCe","2UZMlIwnkgAEDBsw1Rejkn","4tX2TplrkIP4v05BNC903e","58lV9VcRSjABbAbfWS6skp", "1aSxMhuvixZ8h9dK9jIDwL", "6DCIj8jNaNpBz8e5oKFPtp", "762310PdDnwsDxAQxzQkfX", "0WwSkZ7LtFUFjGjMZBMt6T", "0NKDgy9j66h3DLnN8qu1bB", "69Mj3u4FTUrpyeGNSIaU6F", "2tRsMl4eGxwoNabM08Dm4I", "1P8IfcNKwrkQP5xJWuhaOC", "4WquJweZPIK9qcfVFhTKvf", "2JRvXPGWiINrnJljNJhG5s", "5BcZ22XONcRoLhTbZRuME1", "4Z8W4fKeB5YxbusRsdQVPb", "2d0hyoQ5ynDBnkvAbJKORj", "1YLsqPcFg1rj7VvhfwnDWm", "7G1GBhoKtEPnP86X2PvEYO", "2dXf5lu5iilcaTQJZodce7", "2vQavlZtDA660mnZotYIto", "2jgPkn6LuUazBoBk6vvjh5", "2hO4YtXUFJiUYS2uYFvHNK", "6mQfAAqZGBzIfrmlZCeaYT","711MCceyCBcFnzjGY4Q7Un","5a2EaR3hamoenG9rDuVn8j","485uL27bPomh29R4JmQehQ","6kACVPfCOnqzgfEF5ryl0x","2AM4ilv6UzW0uMRuqKtDgN","51Blml2LZPmy7TTiAg47vQ","5M52tdBnJaKSvOpJGz8mfZ","6mdiAmATAx73kdxrNrnlao","4UjiBRkTw9VmvDZiJZKPJ7","6ZLTlhejhndI4Rh53vYhrY","4CYeVo5iZbtYGBN4Isc3n6","4M3c7tg4BzLQ5pIOupZL65","6w6z8m4WXX7Tub4Rb6Lu7R","5KQMtyPE8DCQNUzoNqlEsE","7hW3Ezs4uzy0QQvdnF0Imi","6lE1ly8K8H7u8k2ej2plvv","5WJ6VEY43MOngJJJNabAId","3G7qoMSLvu9Pmb0xGtf9fl","0t1uzfQspxLvAifZLdmFe2","5MQsxr7sbsewUTIEEYxauR","0PGxNwykt4KgnvSnNHVUSZ","3lgxzeCbj6oMQMmaUhH2H6","0sNPk98oyaTeaRojDYglDY","1P72cdCRCvytPnFLkGSeVm","3PXQl96QHBJbzAGENdJWc1","1zK4ACgLi1lVPpfmmcwOTh","1LZqY4X3vFpZaEgXkmiYrG","5kadFhaVFgdn1J4rX3HqB2","3G5wgSAeFzEa6Jv5UNDs4N","3MAQykZ3MwPcviv5eIVqgb","3h66yQiOXZpT6AV2Np5yIq","2hjEGPXpN1BGpNjODQ4ImL","6K1KoB3WXLSOaphD2YoWNU","0rvjqX7ttXeg3mTy8Xscbt", "7Ey4PD4MYsKc5I2dolUwbH", "2ye2Wgw4gimLv2eAKyk1NB", "6zvul52xwTWzilBZl6BUbT", "0yNLKJebCb8Aueb54LYya3", "432R46LaYsJZV2Gmc4jUV5", "2ycnb8Er79LoH2AsR5ldjh", "0O0lrN34wrcuBenkqlEDZe", "2UBTfUoLI07iRqGeUrwhZh", "7bu3H8JO7d0UbMoVzbo70s", "2Hkut4rAAyrQxRdof7FVJq", "3tn79LMMIdIT1T0TXumjaH", "08GQAI4eElDnROBrJRGE0X", "1IQ2e1buppatiN1bxUVkrk", "5fwaejlOHVBAw1KhIPPaQe", "3dnH7fdVm2X07MK6Fkbhbt", "0yLwGBQiBqhXOvmTfH2A7n", "1Yox196W7bzVNZI7RBaPnf", "3JysSUOyfVs1UQ0UaESheP", "3BM0EaYmkKWuPmmHFUTQHv", "76S65NHJHrNy4JTrXHP2BH", "28hJdGN1Awf7u3ifk2lVkg", "0NmYchKQ8JIR9QHYJA0FRe", "6KVc8Llznru8n9LVCYe9dz", "6SYbLA9utoNsllunR1TnkM", "2qOoh1ofQZoX9XMXglJDcR", "6Mo9PoU6svvhgEum7wh2Nd", "4EnEZVjo3w1cwcQYePccay", "03r4iKL2g2442PT9n2UKsx", "4ZISAmHmQUDCpv8xydqeKG","0fY32zOZQBIUFh6rDMfbMt", "76bg2Fvfs7TcQV2un3iNdO", "1KxokFLctHsnu4YDSWY3MF", "06T4NL0adq4kfYAr2nZv5t", "0nxo4nAEYNbNpA8wwNvqXY", "5R7kd09oJizY4DlJoIMLGb", "2Cg6J3WtX1P093c4VKt0Xe", "31LBSeuapFzeec1JCDDMZS", "1FFP0sOEvSSKgjocovruDl", "2IIRfan7YtrHcldR6G8EmM", "0AA0qugrTsIv7JFMEnhaqu", "3lHPBMb024SqetFwwVwuwH", "2V27BrLW9marAftTzfW8WN", "0ReWwVR3RCZtXLP8CZFCrb", "60GtR6PIcDY1pikPgKHNk9", "1lhoWboIGHmazhnBQ8eVF3", "3yZKOUXaZEUIuezZBsDQ62", "1cSpfa4Un4NCOzeOKgGtG9", "38G8E1MViuxPZPd5qIgbic", "0VOvF0kfqCTRe37XzWQdvH", "4bMVHZcJe0AmG8f3b120qL", "1BcAEs4W94BrXMmVCOgwSx", "0klkYTAeGHgItyB4R9YYjU", "2S0M8fVXCom9z4JjV8UoXO");

function divideCombineArtists ($allArtists) {
	
	$totalTracks = count($allArtists);

	// Divide all artists into chunks of 50
	$artistsChunk = array ();
	$x = ceil((count($allArtists))/50);

	$firstArtist = 0;

	for ($i=0; $i<$x; ++$i) {
		$lastArtist = 49;
		$artistsChunk = array_slice($allArtists, $firstArtist, $lastArtist);
		// put chunks of 50 into an array
		$artistsArrays [] = $artistsChunk;
		$firstArtist += 50;
	};

	for ($i=0; $i<(count($artistsArrays)); ++$i) {
				
		$artistsThisTime = count($artistsArrays[$i]);

		$artistIds = implode(',', $artistsArrays[$i]);

		// For each array of artists (50 at a time), "get several artists"
		$bunchofartists = $GLOBALS['api']->getArtists($artistIds);
			
		foreach ($bunchofartists->artists as $artist) {
			$connekt = new mysqli($GLOBALS['host'], $GLOBALS['un'], $GLOBALS['magicword'], $GLOBALS['db']);
			$artistID = $artist->id;
			$artistNameYucky = $artist->name;
			$artistName = mysqli_real_escape_string($connekt,$artistNameYucky);
			$artistPop = $artist->popularity;
			$insertArtistsInfo = "INSERT INTO artists (artistID,artistName) VALUES('$artistID','$artistName')";
			$rockout = $connekt->query($insertArtistsInfo);
			if(!$rockout){
				echo 'Cursed-Crap. Could not insert artists.';
			}
	
			$insertArtistsPop = "INSERT INTO popArtists (artistID,pop) VALUES('$artistID','$artistPop')";
			$rockpop = $connekt->query($insertArtistsPop);
			if(!$rockpop){
				echo 'Cursed-Crap. Could not insert artists popularity.';
			}
	
			else {
				echo '<tr><td>' . $artistName . '</td><td>' . $artistPop . '</td></tr>';
			}
			
		}
	};	
}

function inserttArtistsAndPop ($artistsToInsert) {

	$connekt = new mysqli($GLOBALS['host'], $GLOBALS['un'], $GLOBALS['magicword'], $GLOBALS['db']);

	$bunchofartists = $GLOBALS['api']->getArtists($artistsToInsert);

	foreach ($bunchofartists->artists as $artist) {

		$artistID = $artist->id;
		$artistNameYucky = $artist->name;
		$artistName = mysqli_real_escape_string($connekt,$artistNameYucky);
		$artistPop = $artist->popularity;

		$insertArtistsInfo = "INSERT INTO artists (artistID,artistName) VALUES('$artistID','$artistName')";

		if (!$connekt) {
			echo 'Darn. Did not connect.';
		};

		$rockout = $connekt->query($insertArtistsInfo);

		if(!$rockout){
			echo 'Cursed-Crap. Could not insert artists.';
		}

		$insertArtistsPop = "INSERT INTO popArtists (artistID,pop) VALUES('$artistID','$artistPop')";

		$rockpop = $connekt->query($insertArtistsPop);
		
		if(!$rockpop){
			echo 'Cursed-Crap. Could not insert artists popularity.';
		}

		else {
			echo '<tr><td>' . $artistName . '</td><td>' . $artistPop . '</td></tr>';
		}

	}

	// When attempt is complete, connection closes
	mysqli_close($connekt);

}

function getArtistsPopCron ($artists) {
	
	$artistsIds = implode(',', $artists);

	$bunchofartists = $GLOBALS['api']->getArtists($artistsIds);

	foreach ($bunchofartists->artists as $artist) {

		$artistID = $artist->id;
		$artistName = $artist->name;
		$artistPop = $artist->popularity;

		$insertArtistsPop = "INSERT INTO popArtists (artistID,pop) VALUES('$artistID','$artistPop')";

		$connekt = new mysqli($GLOBALS['host'], $GLOBALS['un'], $GLOBALS['magicword'], $GLOBALS['db']);

		$rockout = $connekt->query($insertArtistsPop);

		// When attempt is complete, connection closes
		mysqli_close($connekt);

	}

}

function getArtistsPop ($artists) {
				
	$artistsIds = implode(',', $artists);

	$bunchofartists = $GLOBALS['api']->getArtists($artistsIds);
		
	foreach ($bunchofartists->artists as $artist) {

		$artistID = $artist->id;
		$artistName = $artist->name;
		$artistPop = $artist->popularity;
		
		$insertArtistsPop = "INSERT INTO popArtists (artistID,pop) VALUES('$artistID','$artistPop')";
		
		$connekt = new mysqli($GLOBALS['host'], $GLOBALS['un'], $GLOBALS['magicword'], $GLOBALS['db']);
		
		if (!$connekt) {
			echo 'Darn. Did not connect.';
		};
		
		$rockout = $connekt->query($insertArtistsPop);
		
		if(!$rockout){
			echo 'Cursed-Crap. Could not insert artists popularity.';
		}
	
		echo '<tr><td>' . $artistName . '</td><td>' . $artistPop . '</td></tr>';

		// When attempt is complete, connection closes
		mysqli_close($connekt);

	}	
}

function getArtistsAndPop ($artists) {
	
	$artistsIds = implode(',', $artists);

	$bunchofartists = $GLOBALS['api']->getArtists($artistsIds);

	$connekt = new mysqli($GLOBALS['host'], $GLOBALS['un'], $GLOBALS['magicword'], $GLOBALS['db']);

	foreach ($bunchofartists->artists as $artist) {

		$artistID = $artist->id;
		$artistName = $artist->name;
		$artistPop = $artist->popularity;

		$insertArtistsPop = "INSERT INTO popArtists (artistID,pop) VALUES('$artistID','$artistPop')";

		if (!$connekt) {
			echo 'Darn. Did not connect.';
		};

		$rockout = $connekt->query($insertArtistsPop);

		if(!$rockout){
			echo 'Cursed-Crap. Could not insert artists popularity.';
		}

		echo '<tr><td>' . $artistName . '</td><td>' . $artistPop . '</td></tr>';

	}

	// When attempt is complete, connection closes
	mysqli_close($connekt);

}

function showArtists () {

	$connekt = new mysqli($GLOBALS['host'], $GLOBALS['un'], $GLOBALS['magicword'], $GLOBALS['db']);
	
	$artistInfoAll = "SELECT a.artistID, a.artistName, b.pop, b.date 
		FROM artists a
			INNER JOIN popArtists b ON a.artistID = b.artistID
		ORDER BY a.artistName ASC";

	$artistInfoRecent = "SELECT a.artistID, a.artistName, b.pop, b.date 
		FROM artists a
			INNER JOIN popArtists b ON a.artistID = b.artistID
				WHERE b.date = (select max(b2.date)
								FROM popArtists b2)
		ORDER BY b.pop ASC";

	$getit = $connekt->query($artistInfoRecent);

	while ($row = mysqli_fetch_array($getit)) {
		// $artistID = $row["artistID"];
		$artistName = $row["artistName"];
		$artistPop = $row["pop"];
		$popDate = $row["date"];
		
		echo "<tr>";
		echo "<td>" . $artistName . "</td>";
		echo "<td>" . $artistPop . "</td>";
		echo "<td>" . $popDate . "</td>";
		echo "</tr>";
	}

}

function showThisArtist ($artistID) {
	
	$connekt = new mysqli($GLOBALS['host'], $GLOBALS['un'], $GLOBALS['magicword'], $GLOBALS['db']);

	$artistInfoAll = "SELECT a.artistID, a.artistName, b.pop, b.date 
		FROM artists a WHERE a.artistID = '$artistID'
			INNER JOIN popArtists b ON a.artistID = b.artistID
		ORDER BY b.date ASC";

	$getit = $connekt->query($artistInfoAll);

	while ($row = mysqli_fetch_array($getit)) {
		// $artistID = $row["artistID"];
		$artistName = $row["artistName"];
		$artistPop = $row["pop"];
		$popDate = $row["date"];
		
		echo "<tr>";
		echo "<td>" . $artistName . "</td>";
		echo "<td>" . $artistPop . "</td>";
		echo "<td>" . $popDate . "</td>";
		echo "</tr>";
	} 
}